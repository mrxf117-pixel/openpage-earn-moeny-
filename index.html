<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task & Reward System</title>
  <style>
    body{margin:0;font-family:Arial,sans-serif;background:#0f172a;color:#fff;text-align:center;padding:20px;}
    .card{max-width:900px;margin:auto;background:rgba(255,255,255,.06);padding:25px;border-radius:15px;
      box-shadow:0 0 20px rgba(0,0,0,.4);}
    .btn{padding:14px 25px;font-size:16px;border:none;border-radius:10px;cursor:pointer;
      background:#00adb5;color:#fff;font-weight:bold;margin-top:15px;}
    .btn:disabled{background:gray;cursor:not-allowed;}
    #timer{margin-top:15px;font-size:20px;font-weight:bold;color:#00ff99;}
    #warning{margin-top:10px;color:red;font-weight:bold;display:none;}
    #websiteBox{display:none;margin-top:25px;}
    iframe{width:100%;height:450px;border:2px solid #00adb5;border-radius:12px;}
    #upiBox{display:none;margin-top:25px;padding:20px;border-radius:12px;background:rgba(0,255,128,.15);}
    input{padding:12px;width:80%;border-radius:8px;border:none;font-size:15px;margin-top:10px;}
    #errorMsg{color:red;font-weight:bold;display:none;margin-top:15px;}
    #retryBtn{display:none;background:#ff9800;}
    .steps{ text-align:left;margin:20px auto;padding:15px;border-radius:12px;
      background:rgba(255,255,255,0.08);max-width:700px;}
    .steps h3{margin:0;color:#00ff99;}
    .steps ul{line-height:1.8;font-size:15px;margin-top:10px;}
  </style>
</head>
<body>
<div class="card">
  <h1>âœ… Complete Task & Unlock Reward</h1>
  <p>Stay active for 5 minutes while using Cryptorbite website.</p>

  <div class="steps">
    <h3>ğŸ“Œ Task Steps:</h3>
    <ul>
      <li>âœ… Step 1: Click <b>Start Task</b> button</li>
      <li>âœ… Step 2: Use Cryptorbite website inside this page</li>
      <li>âœ… Step 3: Stay active for <b>5 minutes</b></li>
      <li>âš ï¸ Step 4: Tab switch will pause timer</li>
      <li>ğŸ‰ Step 5: After completion, payout form unlocks</li>
    </ul>
  </div>

  <button class="btn" onclick="startTask()" id="startBtn">ğŸš€ Start Task Now</button>
  <div id="timer"></div>
  <div id="warning">âš ï¸ Tab switched! Timer paused.</div>

  <div id="websiteBox">
    <h3>ğŸŒ Use Website Below (5 Minutes Required)</h3>
    <iframe src="https://cryptorbite.com"></iframe>
  </div>

  <div id="upiBox">
    <h2>ğŸ‰ Task Completed!</h2>
    <p>Enter your UPI ID to request payout:</p>
    <input type="text" id="upiId" placeholder="Enter UPI ID (example: krunal@paytm)">
    <br><br>
    <button class="btn" onclick="submitUPI()">Submit Payout Request âœ…</button>

    <p id="errorMsg">âŒ Network Problem! Please try again later.</p>
    <button class="btn" id="retryBtn" onclick="retryRequest()">ğŸ”„ Retry Again</button>
  </div>
</div>

<script>
let timeLeft=300,timerRunning=false,timer;

function startTask(){
  document.getElementById("startBtn").disabled=true;
  document.getElementById("websiteBox").style.display="block";
  timerRunning=true;

  timer=setInterval(()=>{
    if(timerRunning){
      let m=Math.floor(timeLeft/60);
      let s=timeLeft%60;
      document.getElementById("timer").innerHTML="â³ Time Remaining: "+m+"m "+s+"s";
      timeLeft--;
      if(timeLeft<0){
        clearInterval(timer);
        document.getElementById("timer").innerHTML="âœ… Task Completed Successfully!";
        document.getElementById("upiBox").style.display="block";
      }
    }
  },1000);
}

document.addEventListener("visibilitychange",()=>{
  if(document.hidden){
    timerRunning=false;
    document.getElementById("warning").style.display="block";
  }else{
    timerRunning=true;
    document.getElementById("warning").style.display="none";
  }
});

function submitUPI(){
  let upi=document.getElementById("upiId").value;
  if(upi===""){alert("âš ï¸ Please enter your UPI ID first!");return;}

  document.getElementById("errorMsg").style.display="block";
  document.getElementById("retryBtn").style.display="none";

  setTimeout(()=>{
    document.getElementById("retryBtn").style.display="inline-block";
  },10000);
}

function retryRequest(){
  document.getElementById("upiId").value="";
  document.getElementById("errorMsg").style.display="block";
  document.getElementById("retryBtn").style.display="none";

  setTimeout(()=>{
    document.getElementById("retryBtn").style.display="inline-block";
  },10000);
}
</script>
</body>
</html>